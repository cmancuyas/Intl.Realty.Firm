@using Intl.Realty.Firm.Models.Models.ViewModel.SaleListingVM
@model SaleListingViewModel

<partial name="~/Views/Shared/_DeleteModal.cshtml" for="Id">

<script type="text/javascript">
    $("#cancelBtn").click(function () {
        CloseModal();
    });

    $("#btnConfirmDelete").click(function () {
        let parameters = {
            id: @Model.Id };
        $.ajax({
            url: '/SaleListing/Delete/' + @Model.Id,
            type: 'post',
            data: parameters,
            success: function (data) {
                // NOTE: TO DO better way of calling callback function from parent
                CloseModal();
                // Swal.fire({
                //     title: "Success!",
                //     icon: "success",
                //     confirmButtonText: "Ok",
                //     confirmButtonColor: '#14984a'
                // });
                window.location.reload()

                    // $('#ListPartialContainer').load('/SaleListing/ListPartialView');

            }, 
            error: function (e) {
                console.log(e);
            }
        });
    });

    function CloseModal() {
        $("#deleteConfirmModal").modal("hide");
        let elem = document.querySelector('#deleteConfirmModal');
        elem.parentNode.removeChild(elem);
    }
</script>
